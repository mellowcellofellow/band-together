namespace SpriteKind {
    export const Press = SpriteKind.create()
    export const Band = SpriteKind.create()
    export const tail = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Press, SpriteKind.Projectile, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        info.changeScoreBy(200)
        sprites.destroy(otherSprite)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (GameState == 1) {
        info.changeScoreBy(-100)
    }
})
function BassLevel1 () {
    GameState = 1
    music.play(music.createSong(assets.song`BassPart1`), music.PlaybackMode.InBackground)
    pause(1550)
    WholeNote()
    HalfNote()
    HalfNote()
    QuarterNote()
    QuarterNote()
    QuarterNote()
    QuarterNote()
    WholeNote()
    HalfNote()
    QuarterNote()
    QuarterNote()
    WholeNote()
    HalfNote()
    HalfNote()
    for (let index = 0; index < 12; index++) {
        QuarterNote()
    }
    WholeNote()
    pause(5000)
    GameState = 0
    if (info.score() > 1500) {
        music.play(music.stringPlayable("C E G C5 - B C5 - ", 120), music.PlaybackMode.InBackground)
        game.setDialogTextColor(2)
        game.splash("That was pretty good! I'll join your band!")
        info.changeLifeBy(1)
    } else {
        game.setDialogTextColor(2)
        game.splash("You'll have to do better than that to get me in your band!")
    }
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    Load_School_View()
    info.setScore(0)
}
function Bass_Room_Conversation () {
    pause(2000)
    game.setDialogTextColor(15)
    game.showLongText("Hey! Are you a bass player?", DialogLayout.Bottom)
    game.setDialogTextColor(2)
    game.showLongText("I can slap.", DialogLayout.Bottom)
    game.setDialogTextColor(15)
    game.showLongText("I'm looking for a bass player to join my Band!", DialogLayout.Bottom)
    game.setDialogTextColor(2)
    game.showLongText("I might be interested. Show me what you've got!", DialogLayout.Bottom)
}
function HalfNote () {
    mySprite3 = sprites.create(assets.image`HalfNotePic`, SpriteKind.Projectile)
    mySprite3.setPosition(161, 108)
    mySprite3.setVelocity(-50, 0)
    pause(1040)
    mySprite3.setFlag(SpriteFlag.DestroyOnWall, true)
}
function DrumLevel1 () {
    GameState = 1
    music.play(music.createSong(assets.song`Drum Level 1`), music.PlaybackMode.InBackground)
    pause(1480)
    PairofEighths()
    QuarterNote()
    PairofEighths()
    QuarterNote()
    PairofEighths()
    QuarterNote()
    PairofEighths()
    QuarterNote()
    for (let index = 0; index < 6; index++) {
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        PairofEighths()
    }
    for (let index = 0; index < 2; index++) {
        PairofEighths()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        QuarterNote()
        PairofEighths()
    }
    for (let index = 0; index < 2; index++) {
        PairofEighths()
        PairofEighths()
        QuarterNote()
        QuarterNote()
    }
    for (let index = 0; index < 2; index++) {
        PairofEighths()
        PairofEighths()
        PairofEighths()
        PairofEighths()
    }
    QuarterNote()
    pause(5000)
    GameState = 0
    if (info.score() > 9000) {
        music.play(music.stringPlayable("C E G C5 - B C5 - ", 120), music.PlaybackMode.InBackground)
        game.setDialogTextColor(7)
        game.splash("That was pretty good! I'll join your band!")
        info.changeLifeBy(1)
    } else {
        game.setDialogTextColor(7)
        game.splash("You'll have to do better than that to get me in your band!")
    }
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    Load_School_View()
    info.setScore(0)
}
function QuarterNote () {
    Quarter = sprites.create(assets.image`QuarterPic`, SpriteKind.Projectile)
    Quarter.setPosition(161, 108)
    Quarter.setVelocity(-50, 0)
    pause(520)
    Quarter.setFlag(SpriteFlag.DestroyOnWall, true)
}
function Load_Intro_Sequence () {
    scene.setBackgroundImage(assets.image`School Front`)
    game.showLongText("Hey PLAYER! Starting at a new School can be tough. How are you going to fit in?", DialogLayout.Bottom)
    game.showLongText("Press A to enter your new school.", DialogLayout.Bottom)
}
function BassClass () {
    tiles.setCurrentTilemap(tilemap`level3`)
    scene.setBackgroundImage(assets.image`Bass Room`)
    scene.centerCameraAt(0, 0)
    mySprite2 = sprites.create(assets.image`Point`, SpriteKind.Press)
    mySprite = sprites.create(assets.image`Player`, SpriteKind.Player)
    mySprite5 = sprites.create(assets.image`BassPlayer`, SpriteKind.Player)
    mySprite5.setPosition(29, 84)
    mySprite.setPosition(9, 108)
    mySprite2.setPosition(21, 112)
    controller.moveSprite(mySprite, 0, 0)
    Bass_Room_Conversation()
    if (game.ask("Are you ready?")) {
        game.splash("Get Ready!")
        BassLevel1()
    } else {
        sprites.destroyAllSpritesOfKind(SpriteKind.Player)
        Load_School_View()
    }
}
function Drum_Room_Conversation () {
    pause(2000)
    game.setDialogTextColor(15)
    game.showLongText("Hey! Are you a drummer?", DialogLayout.Bottom)
    game.setDialogTextColor(7)
    game.showLongText("I've been known to drum.", DialogLayout.Bottom)
    game.setDialogTextColor(15)
    game.showLongText("I'm looking for a drummer to join my Band!", DialogLayout.Bottom)
    game.setDialogTextColor(7)
    game.showLongText("Well, I don't just join any band. You'll have to prove yourself first.", DialogLayout.Bottom)
}
function Load_School_View () {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    tiles.setCurrentTilemap(tilemap`School View Tilemap`)
    student1 = sprites.create(assets.image`princess2Right1`, SpriteKind.Enemy)
    student2 = sprites.create(assets.image`princessFront0`, SpriteKind.Enemy)
    student3 = sprites.create(assets.image`villager1WalkLeft1`, SpriteKind.Enemy)
    mySprite = sprites.create(assets.image`Player`, SpriteKind.Player)
    poster = sprites.create(assets.image`smallBlue0`, SpriteKind.Player)
    controller.moveSprite(mySprite)
    scene.cameraFollowSprite(mySprite)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(11, 23))
    tiles.placeOnTile(student1, tiles.getTileLocation(9, 16))
    tiles.placeOnTile(student2, tiles.getTileLocation(10, 15))
    tiles.placeOnTile(student3, tiles.getTileLocation(11, 16))
    tiles.placeOnTile(poster, tiles.getTileLocation(17, 10))
    game.setDialogTextColor(15)
    game.showLongText("Use up/down/left/right to explore your new school.", DialogLayout.Full)
}
function PairofEighths () {
    firsteighth = sprites.create(assets.image`First EighthPic`, SpriteKind.Projectile)
    firsteighth.setPosition(161, 108)
    firsteighth.setVelocity(-50, 0)
    pause(260)
    firsteighth.setFlag(SpriteFlag.DestroyOnWall, true)
    second_eighth = sprites.create(assets.image`SecondEighthPic`, SpriteKind.Projectile)
    second_eighth.setPosition(161, 108)
    second_eighth.setVelocity(-50, 0)
    pause(280)
    second_eighth.setFlag(SpriteFlag.DestroyOnWall, true)
}
function DrumClass () {
    tiles.setCurrentTilemap(tilemap`level3`)
    scene.setBackgroundImage(assets.image`Drum Room`)
    scene.centerCameraAt(0, 0)
    mySprite2 = sprites.create(assets.image`Point`, SpriteKind.Press)
    mySprite4 = sprites.create(assets.image`Drummer`, SpriteKind.Band)
    mySprite = sprites.create(assets.image`Player`, SpriteKind.Player)
    mySprite.setPosition(9, 108)
    mySprite2.setPosition(21, 112)
    mySprite4.setPosition(29, 84)
    controller.moveSprite(mySprite, 0, 0)
    Drum_Room_Conversation()
    game.setDialogTextColor(7)
    if (game.ask("Are you ready?")) {
        game.splash("Get Ready!")
        DrumLevel1()
    } else {
        sprites.destroyAllSpritesOfKind(SpriteKind.Player)
        Load_School_View()
    }
}
function WholeNote () {
    Whole = sprites.create(assets.image`WholePic`, SpriteKind.Projectile)
    Whole.setPosition(161, 108)
    Whole.setVelocity(-50, 0)
    pause(2080)
    Whole.setFlag(SpriteFlag.DestroyOnWall, true)
}
let Whole: Sprite = null
let mySprite4: Sprite = null
let second_eighth: Sprite = null
let firsteighth: Sprite = null
let poster: Sprite = null
let student3: Sprite = null
let student2: Sprite = null
let student1: Sprite = null
let mySprite5: Sprite = null
let mySprite: Sprite = null
let mySprite2: Sprite = null
let Quarter: Sprite = null
let mySprite3: Sprite = null
let GameState = 0
info.setLife(1)
Load_Intro_Sequence()
Load_School_View()
forever(function () {
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile0`)) {
        DrumClass()
    }
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile1`)) {
        BassClass()
    }
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile2`)) {
        if (info.life() >= 2) {
            game.showLongText("I hear he's already putting a band together. Maybe he is ok.", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(9, 18))
        } else {
            game.showLongText("I bet he doesn't even play in a band.", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(9, 18))
        }
    }
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile3`)) {
        if (info.life() >= 2) {
            game.showLongText("He might be cool....", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(9, 18))
        } else {
            game.showLongText("What a dork.", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(10, 18))
        }
    }
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile4`)) {
        if (info.life() >= 2) {
            game.showLongText("The new kid has been talking to some players....", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(9, 18))
        } else {
            game.showLongText("Oh look, it's the new kid.", DialogLayout.Bottom)
            tiles.placeOnTile(mySprite, tiles.getTileLocation(11, 18))
        }
    }
    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`myTile6`)) {
        game.showLongText("Hey, there's a battle of the bands on Friday!", DialogLayout.Bottom)
        game.showLongText("If I win that then everybody will think I'm cool.", DialogLayout.Bottom)
        game.showLongText("But I need a band... I better find some other musicians.", DialogLayout.Bottom)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(17, 12))
    }
})
